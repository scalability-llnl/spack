# This config file specifies how to project packages to paths.
projections:
  test1:
    all:
      components:
        - "once:compiler:this?:%gcc:gnu-${COMPILERVER}:${COMPILERNAME}" #"compiler" is an id to make sure this doesnt appear more than once in the projection
        - /
        - dep:bzip2 #if we didnt want to use exactly the same package descriptor as "bzip2" we could create and refer to e.g. "bzip2/bzip2_multiplier"
        - /
        - "this:${PACKAGE}-${VERSION}" #this is not qualified with "once" so may appear for each package
    bzip2: # this does not specify descriptor or components, so it will use the definition from 'all' (top-level-basedir is still used)
      top-level-basedir: "${package}"
      extra-components: #extra-components will not override the "components" section of "all"
        - "this:astaticstring"
  test2:
    all:
      components:
        - dep:mpi #since there is no entry, we use the descriptor for 'all'
        - "once:compiler:this?:%gcc:gnu-${COMPILERVER}:${COMPILERNAME}"
        - /
        - dep:bzip2
        - dep:zlib #if zlib and bzip2 are both present, they will be joined with a "-"
        - /
        - "this:${PACKAGE}-${VERSION}"
    bzip2:
      targets: #a target allows mapping a single file to a string, rather than the whole package
        - output: /usr/bin/bzip2_1
          match: "bzip2@1.0:"
          target: bin/bzip2 #relative to package prefix 
      components:
        - "this:ARRRRRR-${PACKAGE}"
    zlib:
      descriptor: "examplezlib-${version}" #descriptor is the alternative to specifying a list of components
  test-collide:
    all:
      components:
        - "once:compiler:this?:%gcc:gnu-${COMPILERVER}:${COMPILERNAME}"
        - /
        - dep:bzip2 # if bzip2 and some package using it are both projected, a conflict will result
        - /
        - "this:${PACKAGE}-${VERSION}"
