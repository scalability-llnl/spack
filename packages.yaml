# -------------------------------------------------------------------------
# This file controls default concretization preferences for Spack.
#
# Settings here are versioned with Spack and are intended to provide
# sensible defaults out of the box. Spack maintainers should edit this
# file to keep it current.
#
# Users can override these settings by editing the following files.
#
# Per-spack-instance settings (overrides defaults):
#   $SPACK_ROOT/etc/spack/packages.yaml
#
# Per-user settings (overrides default and site settings):
#   ~/.spack/packages.yaml
# -------------------------------------------------------------------------
packages:
    all:
        compiler: [gcc@5, intel@17, pgi@16]
        providers:
            mpi: [openmpi, mvapich2, mpich, intel-parallel-studio+mpi]
            blas: [openblas, intel-parallel-studio+mkl]
            lapack: [openblas, intel-parallel-studio+mkl]
            scalapack: [netlib-scalapack, intel-parallel-stuido+mkl]

    openssl:
        paths:
            openssl@system: /usr
        version: [system]
        buildable: False

    mvapich2:
        variants: +debug fabrics=nemesisib process_managers=slurm

    mpich:
        variants: +pmi +romio +verbs

    intel-parallel-studio:
        paths:
            intel-parallel-studio@cluster.2015.6%intel+all+daal~ilp64+ipp+mkl+mpi~newdtags+openmp+rpath+shared+tools: /lustre/spack/tools/linux-centos7-x86_64/intel-15.0.6/intel-parallel-studio-cluster.2015.6-v4m6xngrq67y7hopcnxg6qb6onvruevy
            intel-parallel-studio@cluster.2016.4%intel+all+daal~ilp64+ipp+mkl+mpi~newdtags+openmp+rpath+shared+tools: /lustre/spack/tools/linux-centos7-x86_64/intel-16.0.4/intel-parallel-studio-cluster.2016.4-kd3ufpcli3tp4x4nbrduqzm5vvlfnrur
            intel-parallel-studio@cluster.2017.4%intel+all+daal~ilp64+ipp+mkl+mpi~newdtags+openmp+rpath+shared+tools: /lustre/spack/tools/linux-centos7-x86_64/intel-17.0.4/intel-parallel-studio-cluster.2017.4-bwdcdc6362g5qrytkjbec3iiskhqmgpw
        buildable: False

    jdk:
        paths:
            jdk@8u92-linux-x64%gcc@4.8.5: /lustre/spack/tools/linux-centos7-x86_64/gcc-4.8.5/jdk-8u92-linux-x64-ssqvhgnvnmeieyssqcregsveivzfh7rg
        buildable: False

    gradle:
        paths:
            gradle@3.4%gcc@4.8.5: /lustre/spack/tools/linux-centos7-x86_64/gcc-4.8.5/gradle-3.4-lwverrfizet36cxrwp7eajxxj25awk5e
        buildable: False

    cuda:
        paths:
            cuda@6.5.14%gcc@4.8.5: /lustre/spack/tools/linux-centos7-x86_64/gcc-4.8.5/cuda-6.5.14-3avyaldl2uzrhqtgwe7lgw27zzjmwcmt
            cuda@7.5.18%gcc@4.8.5: /lustre/spack/tools/linux-centos7-x86_64/gcc-4.8.5/cuda-7.5.18-gyoxeh2obvptfuv4n42uwutqcdqcycco
            cuda@8.0.61%gcc@4.8.5: /lustre/spack/tools/linux-centos7-x86_64/gcc-4.8.5/cuda-8.0.61-oehfcuf3do4bwagkarjurizvcsrl7y2q
        buildable: False

    pgi:
        paths:
            pgi@16.10%gcc@4.8.5~amd~java~mpi+network+nvidia~single: /lustre/spack/tools/linux-centos7-x86_64/gcc-4.8.5/pgi-16.10-5rylcqgqakod7b4c7leqnbtrl43pp7tf
        buildable: False

    r:
        variants: +external-lapack

    openblas:
        variants: +openmp

    fftw:
        variants: +float +long_double +mpi +openmp
