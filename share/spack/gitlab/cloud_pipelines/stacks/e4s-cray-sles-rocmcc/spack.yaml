spack:
  include:
  - $spack/share/spack/gitlab/cloud_pipelines/configs/linux/ci.yaml

  view: false

  packages:
    # ROCMCC-SPECIFIC PREFERENCES/REQUIREMENTS
    all:
      require: "%rocmcc"

  specs:
  #- adios2  # due to libffi issues, incl. src/tramp.c:262:22: error: call to undeclared function 'open_temp_exec_file'
  - amrex
  #- butterflypack  # likely due to arpack-ng: ld.lld: error: undefined reference due to --no-allow-shlib-undefined: dlopen (and more)
  - conduit
  #- flux-core  # likely due to libffi issues, incl. src/tramp.c:262:22: error: call to undeclared function 'open_temp_exec_file'
  - h5bench
  - hdf5-vol-async
  #- hdf5-vol-cache  # src/H5VLcache_ext.c: error: incompatible function pointer types initializing 'herr_t...' (and more)
  - hdf5-vol-log
  - hypre
  - kokkos
  - kokkos-kernels
  - legion
  - mfem
  - raja
  #- superlu-dist  # TEST/pdtest.c: error: call to undeclared 'putenv'

  mirrors: { "mirror": "s3://spack-binaries/develop/e4s-cray-sles-rocmcc" }

  cdash:
    build-group: E4S Cray SLES
